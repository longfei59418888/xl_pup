(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[18],{

/***/ "./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/lib/loader.js!./src/pages/login/index.scss":
/*!*************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ref--8-1!./node_modules/postcss-loader/src??ref--8-2!./node_modules/sass-loader/lib/loader.js!./src/pages/login/index.scss ***!
  \*************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js")(false);
// Module
exports.push([module.i, ".pages-login-sms-input:after {\n  border-top: 1Px solid #545dff; }\n", ""]);


/***/ }),

/***/ "./src/pages/images/loading_icon_1.png":
/*!*********************************************!*\
  !*** ./src/pages/images/loading_icon_1.png ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAAolBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8ELnaCAAAANXRSTlMA5syzmYBmTQYCCiIBVxFDc2QYrFw+OR4oFHg11LFsUkoOlH3ini7JvqmNYTAs7cS6pIj03NygR3wAAAOiSURBVGje7NHZboJAGIbhb6YKwy6yuaDVFq3WuqTK/d9aTSAIzNAoDgdN+hyTefPx4zHsdUsP53i209EVc0DS3OGboRP2S1pCDXRgGacVhwjyeWkN1SGbn3K+IRvlIwfZU8JUYAe5BqJID3K9iSIbyDUTRS5oa2hNPvvzkKFiJYp8oJ1gRjLxZImSviiyRRt6j9zEQTkuirhowd6QssRHQUv4xnmMx7EZqUocFFw+8okWBqQuXt6mHOuNxEaNNhytIx2/GV8IZ4LCMKn9rD1qbEe9WhgmmrmEF2soRLSy4ws1+kLNGGjmEYFp+ZX+uWj0+KOHam6ho1FMBHyUjecnkqaH48QAR1MLEZowIjLgv2MQstXCHk3MCxGY415MLRhodCQCKu7mFBEbjVZEYIS7DdXcFM0WhHfCA4ysETI00yjhWHjE8itwppGJ36j8EAbp+qQqjiAfe6s2puiEdSEFb4yODOfZ+ZOVY6I7mhH46nqJf//+GA3d0oL32ZGeVm6EzoRbmvt4t9ENl5a8jNAFl1ZsIsihj3UTuZDWeEzGldeWoij+NHuLebTOl7DiVclYNq4cyjmZT++4NnK+DqBPeWs8aa/cBAA8yrPwJKsU2THgSHlzPIcpZTbw056d7SgKBFAYPkkVDVQVOyJLWhRjt63Ohf3+DzfOBMdawMGRuphOfy/w57CkSNhbiDAlkgLngYiL5/iJHNlYuvFrqREIoDEbmcCTllKkxODjFeBpxZ9GJHDRvGuNs4eniVPSvyU+fsvVxj7FHDaNG7hFiKtc3pJx2PEmHVoM1pyc8/6d0GOFIf/Rh8S3b1+KV5VLBquKbUYuujyELcsDucoCASuaDyLZeniMz4uo4T7uKjOiqMVDiUXs/BI3uMPbEc0a07HEuQo8jAqI7sym7zg6NwFG7YghwlQLR/aGEZyY6slDYiXyghELYuowEXdUIYa5xHSefoCr+ANLKCYqtEiJYSUxOZio1CIphrGMGHLo2DL1YGJqo/YxYkV0rxUUVXugF07EoAuUSIQxy1eiiaGIOto7mL+BaqkRM4xqiWq3gUQkVBJBw7e3i5XijpjIPjhka6owtqQvfeMY4h7RSlesSyFLqergQSNKN1kla46/Kes+Q1sPipxqCvy7MMpXiftDQCU6qokxu5DqPjE7Tg0e5pZSXYfZeVS3xfxiqmkxvxPVVJifr00JYMPmk0piH1ZU9a2RMFjir/sx2wIW+WUUtAuOh/wEUH+AYj/zw88AAAAASUVORK5CYII="

/***/ }),

/***/ "./src/pages/login/index.scss":
/*!************************************!*\
  !*** ./src/pages/login/index.scss ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(/*! !../../../node_modules/css-loader/dist/cjs.js??ref--8-1!../../../node_modules/postcss-loader/src??ref--8-2!../../../node_modules/sass-loader/lib/loader.js!./index.scss */ "./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/lib/loader.js!./src/pages/login/index.scss");

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(/*! ../../../node_modules/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);

if(content.locals) module.exports = content.locals;

if(true) {
	module.hot.accept(/*! !../../../node_modules/css-loader/dist/cjs.js??ref--8-1!../../../node_modules/postcss-loader/src??ref--8-2!../../../node_modules/sass-loader/lib/loader.js!./index.scss */ "./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/lib/loader.js!./src/pages/login/index.scss", function() {
		var newContent = __webpack_require__(/*! !../../../node_modules/css-loader/dist/cjs.js??ref--8-1!../../../node_modules/postcss-loader/src??ref--8-2!../../../node_modules/sass-loader/lib/loader.js!./index.scss */ "./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/lib/loader.js!./src/pages/login/index.scss");

		if(typeof newContent === 'string') newContent = [[module.i, newContent, '']];

		var locals = (function(a, b) {
			var key, idx = 0;

			for(key in a) {
				if(!b || a[key] !== b[key]) return false;
				idx++;
			}

			for(key in b) idx--;

			return idx === 0;
		}(content.locals, newContent.locals));

		if(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');

		update(newContent);
	});

	module.hot.dispose(function() { update(); });
}

/***/ }),

/***/ "./src/pages/login/index/images/del-tel.png":
/*!**************************************************!*\
  !*** ./src/pages/login/index/images/del-tel.png ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAKlBMVEXCyNL////6+vvN0tra3uTP1Nzr7PD3+Pn29/ne4efJztfHzNb09ffr7fB5sKV6AAAAs0lEQVQoz2MQBAE11w3cIUlgJlighQEMPGACkgxQMBEiIBQAE2BVBAucYoCDNSABoQUIAS5FoIAoAxIIBApMQBbgFGSQYEABjQwiqAKODAog6roBAwNzGYjFxJAAogqVGRiMxEEsNgYHEGUkZMCsqAxisTCAnQnkAcXAjmXYwABRAlHAwA3EECVgBQiAEMDQgmEohrUYDsNwOobnMLyPHkAYQYgRyOjRgBFRmFGJGdkYyQEAwlsie2qzcqIAAAAASUVORK5CYII="

/***/ }),

/***/ "./src/pages/login/index/index.jsx":
/*!*****************************************!*\
  !*** ./src/pages/login/index/index.jsx ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault = __webpack_require__(/*! @babel/runtime-corejs3/helpers/interopRequireDefault */ "./node_modules/@babel/runtime-corejs3/helpers/interopRequireDefault.js");

__webpack_require__(/*! core-js/modules/es.string.replace */ "./node_modules/core-js/modules/es.string.replace.js");

var _Object$defineProperty = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/define-property */ "./node_modules/@babel/runtime-corejs3/core-js-stable/object/define-property.js");

_Object$defineProperty(exports, "__esModule", {
  value: true
});

exports.default = void 0;

var _getOwnPropertyDescriptor = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor */ "./node_modules/@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor.js"));

var _regenerator = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/regenerator */ "./node_modules/@babel/runtime-corejs3/regenerator/index.js"));

__webpack_require__(/*! regenerator-runtime/runtime */ "./node_modules/regenerator-runtime/runtime.js");

var _asyncToGenerator2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/helpers/asyncToGenerator */ "./node_modules/@babel/runtime-corejs3/helpers/asyncToGenerator.js"));

var _setTimeout2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/set-timeout */ "./node_modules/@babel/runtime-corejs3/core-js-stable/set-timeout.js"));

var _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/helpers/classCallCheck */ "./node_modules/@babel/runtime-corejs3/helpers/classCallCheck.js"));

var _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/helpers/createClass */ "./node_modules/@babel/runtime-corejs3/helpers/createClass.js"));

var _possibleConstructorReturn2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime-corejs3/helpers/possibleConstructorReturn.js"));

var _getPrototypeOf2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/helpers/getPrototypeOf */ "./node_modules/@babel/runtime-corejs3/helpers/getPrototypeOf.js"));

var _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/helpers/inherits */ "./node_modules/@babel/runtime-corejs3/helpers/inherits.js"));

var _applyDecoratedDescriptor2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime-corejs3/helpers/applyDecoratedDescriptor */ "./node_modules/@babel/runtime-corejs3/helpers/applyDecoratedDescriptor.js"));

var _react = _interopRequireDefault(__webpack_require__(/*! react */ "./node_modules/react/index.js"));

__webpack_require__(/*! ../index.scss */ "./src/pages/login/index.scss");

var _page = _interopRequireDefault(__webpack_require__(/*! src/components/page */ "./src/components/page/index.js"));

var _btn = _interopRequireDefault(__webpack_require__(/*! src/components/form/btn */ "./src/components/form/btn/index.js"));

var _urls = __webpack_require__(/*! src/constants/urls */ "./src/constants/urls.js");

var _coreDecorators = __webpack_require__(/*! core-decorators */ "./node_modules/core-decorators/es/core-decorators.js");

var _toast = __webpack_require__(/*! src/components/modal/toast */ "./src/components/modal/toast/index.js");

var _connect = _interopRequireDefault(__webpack_require__(/*! src/decorators/connect */ "./src/decorators/connect.js"));

var _user = __webpack_require__(/*! src/actions/user */ "./src/actions/user.js");

var _extend = __webpack_require__(/*! src/utils/extend */ "./src/utils/extend.js");

var _header = _interopRequireDefault(__webpack_require__(/*! ../../../decorators/header */ "./src/decorators/header.js"));

var _dec, _dec2, _dec3, _class, _class2;

var Main = (_dec = (0, _connect.default)(['user'], {
  sendLoginSms: _user.sendLoginSms
}), _dec2 = (0, _header.default)(), _dec3 = (0, _coreDecorators.autobind)(), _dec(_class = _dec2(_class = (_class2 =
/*#__PURE__*/
function (_React$Component) {
  (0, _inherits2.default)(Main, _React$Component);

  function Main(props) {
    var _this;

    (0, _classCallCheck2.default)(this, Main);
    _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(Main).call(this));
    var _props$user = props.user,
        user = _props$user === void 0 ? {} : _props$user;
    var _user$userSmsLoginInf = user.userSmsLoginInfo.mobileNo,
        mobileNo = _user$userSmsLoginInf === void 0 ? '' : _user$userSmsLoginInf;
    var phone = (0, _extend.dealPhone)(mobileNo);
    _this.state = {
      phone: phone,
      showTop: false,
      showLoading: false
    };
    return _this;
  }

  (0, _createClass2.default)(Main, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      var input = this.input;

      input.onfocus = function () {
        _this2.setState({
          showTop: true
        });
      };

      input.onblur = function () {
        (0, _setTimeout2.default)(function () {
          _this2.setState({
            showTop: false
          });
        }, 100);
      };

      input.oninput = function () {
        var value = input.value;
        var state = _this2.state;

        if (input.value.length > 11) {
          input.value = state.phone;
        } else {
          var phone = (0, _extend.dealPhone)(value);
          var inputPos = input.selectionStart;
          if (state.phone.length > phone.length && /^\d{5}\s\d$/.test(phone)) inputPos -= 1;
          if (state.phone.length < phone.length && /^\d{5}\s\d$/.test(phone)) inputPos += 1;
          if (phone.length > 11) inputPos = input.value.length;
          input.value = phone;

          _this2.setState({
            phone: phone
          });

          (0, _setTimeout2.default)(function () {
            if (input.value.length > 6) input.setSelectionRange(inputPos, inputPos);
          }, 0);
        }
      };

      (0, _setTimeout2.default)(function () {
        input.focus();
      }, 300);
    }
  }, {
    key: "send",
    value: function () {
      var _send = (0, _asyncToGenerator2.default)(
      /*#__PURE__*/
      _regenerator.default.mark(function _callee() {
        var input, _this$props, sendLoginSms, history, _this$props$user, user, _user$userSmsLoginInf2, _user$userSmsLoginInf3, sendTimeStart, sendInterval, mobileNo, phone, data;

        return _regenerator.default.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                input = this.input;
                _this$props = this.props, sendLoginSms = _this$props.sendLoginSms, history = _this$props.history, _this$props$user = _this$props.user, user = _this$props$user === void 0 ? {} : _this$props$user;
                _user$userSmsLoginInf2 = user.userSmsLoginInfo, _user$userSmsLoginInf3 = _user$userSmsLoginInf2.sendTimeStart, sendTimeStart = _user$userSmsLoginInf3 === void 0 ? '' : _user$userSmsLoginInf3, sendInterval = _user$userSmsLoginInf2.sendInterval, mobileNo = _user$userSmsLoginInf2.mobileNo;
                phone = input.value.replace(/\s/, '');

                if (/^[6,7,8,9]\d{9}$/.test(phone)) {
                  _context.next = 7;
                  break;
                }

                (0, _toast.infoOne)('Please enter valid mobile number', true, 2);
                return _context.abrupt("return");

              case 7:
                if (!(sendTimeStart + sendInterval * 1000 > new Date().getTime() && phone === mobileNo)) {
                  _context.next = 10;
                  break;
                }

                history.push(_urls.LOGIN_CONFIRM);
                return _context.abrupt("return");

              case 10:
                (0, _toast.asyncOption)();
                this.setState({
                  showLoading: true
                });
                _context.next = 14;
                return sendLoginSms({
                  templateName: 'smscode_login',
                  mobileNo: phone,
                  key: {
                    mobileNo: phone,
                    userNo: ''
                  }
                });

              case 14:
                data = _context.sent;
                this.setState({
                  showLoading: false
                });
                (0, _toast.close)();
                if (data) history.push(_urls.LOGIN_CONFIRM, true);

              case 18:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function send() {
        return _send.apply(this, arguments);
      }

      return send;
    }()
  }, {
    key: "clearInput",
    value: function clearInput() {
      var input = this.input;
      input.value = '';
      this.setState({
        phone: ''
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;

      var send = this.send,
          clearInput = this.clearInput;
      var _this$state = this.state,
          showTop = _this$state.showTop,
          phone = _this$state.phone,
          showLoading = _this$state.showLoading;
      var history = this.props.history;
      return _react.default.createElement(_page.default, {
        className: "pt14 plr52"
      }, _react.default.createElement("p", {
        className: "fcolor7 rbold font42 lh40 fw1",
        onClick: function onClick() {
          history.goBack({
            path: _urls.INDEX_HOME
          });
        }
      }, "HOME"), _react.default.createElement("p", {
        className: "mt86 rbold fw1 lh85 font72"
      }, "Register/Login"), _react.default.createElement("div", {
        className: "mt100 bob1 height120 pt26 flex-ali-center fcolor3 lh38 font32 pos-r"
      }, (phone.length > 0 || showTop) && _react.default.createElement("span", {
        className: "pos-a l0 lh32",
        style: {
          top: '-.1rem'
        }
      }, "Mobile number"), _react.default.createElement("span", {
        className: "width77"
      }, "+91"), _react.default.createElement("div", {
        className: "flex1 pos-r"
      }, _react.default.createElement("form", {
        onSubmit: function onSubmit(e) {
          send();
          e.stopPropagation();
          e.preventDefault();
          return false;
        }
      }, _react.default.createElement("input", {
        ref: function ref(_ref) {
          _this3.input = _ref;
        },
        defaultValue: phone,
        className: "width-100 bornone placeholder1 fcolor1 font40",
        style: {
          fontFamily: 'SanFranciscoDisplay-Bold'
        },
        placeholder: "Mobile number linked to your Aadhaar",
        type: "tel"
      })), phone.length > 0 && showTop && _react.default.createElement("img", {
        onClick: clearInput,
        className: "pos-a height32 width32 r0 t0",
        src: __webpack_require__(/*! ./images/del-tel.png */ "./src/pages/login/index/images/del-tel.png"),
        alt: ""
      }))), _react.default.createElement(_btn.default, {
        className: "mt100",
        onClick: function onClick() {
          return send();
        }
      }, showLoading && _react.default.createElement("img", {
        className: "ld1 width50 height50 mr33",
        src: __webpack_require__(/*! ../../images/loading_icon_1.png */ "./src/pages/images/loading_icon_1.png"),
        alt: ""
      }), _react.default.createElement("span", null, showLoading ? 'Loading' : 'Next')), _react.default.createElement("p", {
        className: "font30 fcolor3 flh52 mt44"
      }, _react.default.createElement("span", null, "By continuing\uFF0Cyou agree to the "), _react.default.createElement("span", {
        onClick: function onClick() {
          history.push("".concat(_urls.SETTING_LEGAL_POLICIES_DETAIL, "/1"));
        },
        className: "fcolor1"
      }, "Terms of Service"), _react.default.createElement("span", null, " and "), _react.default.createElement("span", {
        onClick: function onClick() {
          history.push("".concat(_urls.SETTING_LEGAL_POLICIES_DETAIL, "/0"));
        },
        className: "fcolor1"
      }, "Privacy Policy")));
    }
  }]);
  return Main;
}(_react.default.Component), ((0, _applyDecoratedDescriptor2.default)(_class2.prototype, "send", [_coreDecorators.autobind], (0, _getOwnPropertyDescriptor.default)(_class2.prototype, "send"), _class2.prototype), (0, _applyDecoratedDescriptor2.default)(_class2.prototype, "clearInput", [_dec3], (0, _getOwnPropertyDescriptor.default)(_class2.prototype, "clearInput"), _class2.prototype)), _class2)) || _class) || _class);
var _default = Main;
exports.default = _default;
;
/* eslint-disable global-require, import/no-unresolved, no-var, camelcase, func-names */

(function register() {
  /* react-hot-loader/webpack */
  var safe_require = function safe_require() {
    return  false ? undefined : __webpack_require__(/*! react-hot-loader */ "./node_modules/react-hot-loader/index.js");
  };

  var reactHotLoader = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : safe_require()).default;

  if (!reactHotLoader) {
    return;
  }
  /* eslint-disable camelcase, no-undef */


  var webpackExports = typeof __webpack_exports__ !== 'undefined' ? __webpack_exports__ : exports;
  /* eslint-enable camelcase, no-undef */

  if (!webpackExports) {
    return;
  }

  if (typeof webpackExports === 'function') {
    reactHotLoader.register(webpackExports, 'module.exports', "D:\\Itmes Files\\360loan-india\\src\\pages\\login\\index\\index.jsx");
    return;
  }
  /* eslint-disable no-restricted-syntax */


  for (var key in webpackExports) {
    /* eslint-enable no-restricted-syntax */
    if (!Object.prototype.hasOwnProperty.call(webpackExports, key)) {
      continue;
    }

    var namedExport = void 0;

    try {
      namedExport = webpackExports[key];
    } catch (err) {
      continue;
    }

    reactHotLoader.register(namedExport, key, "D:\\Itmes Files\\360loan-india\\src\\pages\\login\\index\\index.jsx");
  }
})();

/***/ })

}]);
//# sourceMappingURL=18.js.map